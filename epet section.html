<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Onl!ne Pet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="epet.css">
</head>

<body>
    <header>
        <h1>Your Onl!ne Pet</h1>
        <p class="subtitle">Have fun and take care of your pet!</p>
    </header>



    <form action="#">
        <label for="pet">Choose your pet:<br></label>
            <select name="pet type" id="pet">
                <option value="üê∞">üê∞</option>
                <option value="üê±">üê±</option>
                <option value="üê∂">üê∂</option>
                <option value="üêπ">üêπ</option>
                <option value="üêØ">üêØ</option>
            </select>
        <button type="button" onclick="selector()" style="padding: 5px 10px;font-size: 14px; background-color: #1f38ab; color: white;  border: none; cursor: pointer;border-radius: 5px;">Go</button>
    </form>
    
    <script>
        function selector() {
            const petSelect = document.getElementById("pet");
            const selectedPet = petSelect.value;
            const petDiv = document.querySelector(".pet");
            petDiv.textContent = selectedPet

        }

        let currentPet = "";

        function selector() {
        const petSelect = document.getElementById("pet");
        const selectedPet = petSelect.value;
        currentPet = selectedPet;
        document.querySelector(".pet").textContent = selectedPet;
        }

    </script>

    


    <div class="pet-container">
        <div class="pet-display">
            <div class="pet-circle">
                <div class="pet"></div>
            </div>
        
            
            <div class="pet-stats">
                <div class="stat">
                    <div class="stat-name">
                        <i class="fas fa-utensils"></i>
                        <span>Fullness</span>
                    </div>
                    <div class="stat-value" id="hunger-value"></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar hunger-bar" id="hunger-bar" style="width: 75%"></div>
                </div>
                
                <div class="stat">
                    <div class="stat-name">
                        <i class="fas fa-smile"></i>
                        <span>Happiness</span>
                    </div>
                    <div class="stat-value" id="happiness-value"></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar happiness-bar" id="happiness-bar" style="width: 90%"></div>
                </div>
                
                <div class="stat">
                    <div class="stat-name">
                        <i class="fas fa-bolt"></i>
                        <span>Energy</span>
                    </div>
                    <div class="stat-value" id="energy-value"></div>
                </div>
                <div class="progress-container">
                    <div class="progress-bar energy-bar" id="energy-bar" style="width: 60%"></div>
                </div>
            </div> <!--pet stat-->
        </div> <!--pet display-->
        
        
        <div class="pet-actions">
            
            <h3 class="action-title">Pet care</h3>
            <p class="action-description">Interact with your pet to improve its status values. Each day you log in, you can get extra rewards!</p>
            
            <div class="action-buttons">
                <button class="action-btn feed-btn" id="feed-btn">
                    <i class="fas fa-utensils"></i>
                    <span>Feed (+10)</span>
                </button>
                <button class="action-btn play-btn" id="play-btn">
                    <i class="fas fa-gamepad"></i>
                    <span>Play (+15)</span>
                </button>
                <button class="action-btn clean-btn" id="clean-btn">
                    <i class="fas fa-bath"></i>
                    <span>Clean (+5)</span>
                </button>
                <button class="action-btn rest-btn" id="rest-btn">
                    <i class="fas fa-bed"></i>
                    <span>Rest (+20)</span>
                </button>
            </div> <!--action buttons-->
            
            <div class="status-container">
                <h4 class="status-title">Status</h4>
                <div class="status-item">
                    <i class="fas fa-heart heart"></i>
                    <span id="mood-text">Your pet is very happy today!</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-star login-streak"></i>
                    <span>Login days: <span id="login-streak">1</span> days</span>
                </div>
                <div class="pet-message" id="pet-message">Welcome back!</div>
            </div> <!--status container-->

        </div> <!--pet actions-->

    </div> <!--pet container-->

    <div class="notification" id="notification">Success!</div>

    <script>
        let feedCount = 0;
        const maxFeed = 5;



        // ÂÆ†Áâ©Áä∂ÊÄÅÊï∞ÊçÆ
        let petStats = {
            hunger: 75,
            happiness: 90,
            energy: 60,
            loginStreak: 5
        };

        const hungerValue = document.getElementById('hunger-value');
        const happinessValue = document.getElementById('happiness-value');
        const energyValue = document.getElementById('energy-value');
        const hungerBar = document.getElementById('hunger-bar');
        const happinessBar = document.getElementById('happiness-bar');
        const energyBar = document.getElementById('energy-bar');
        const moodText = document.getElementById('mood-text');
        const loginStreak = document.getElementById('login-streak');
        const petMessage = document.getElementById('pet-message');
        const notification = document.getElementById('notification');
        const CooldownTime = 10000; 
        let Cooldown = false;

        
        const feedBtn = document.getElementById('feed-btn');
        const playBtn = document.getElementById('play-btn');
        const cleanBtn = document.getElementById('clean-btn');
        const restBtn = document.getElementById('rest-btn');


        
        function updateDisplay() {
             
            // hungerBar.style.width = petStats.hunger + '%';
            //happinessBar.style.width = petStats.happiness + '%';
            //energyBar.style.width = petStats.energy + '%';
            
            loginStreak.textContent = petStats.loginStreak;
            
            updateMood();
        }
       
        function updateMood() {
            if (petStats.happiness >= 90) {
                moodText.textContent = "Your pet is very happy today!";
            } else if (petStats.happiness >= 70) {
                moodText.textContent = "Your pet is feeling good!";
            } else if (petStats.happiness >= 50) {
                moodText.textContent = "Your pet is okay, but could use some attention.";
            } else {
                moodText.textContent = "Your pet is sad, please take care of it!";
            }
        }

        function showNotification(message) {
            notification.textContent = message;
            notification.style.opacity = "1";
            notification.style.top = "20px";
            
            setTimeout(() => {
                notification.style.opacity = "0";
                notification.style.top = "0px";
            }, 2000);
        }

        
        function updatePetMessage(message) {
            petMessage.textContent = message;
        }

        
        function clampValue(value) {
            return Math.max(0, Math.min(100, value));
        }

        
        feedBtn.addEventListener('click', () => {
            petStats.hunger = clampValue(petStats.hunger + 10);
            petStats.energy = clampValue(petStats.energy + 3);
            petStats.happiness = clampValue(petStats.happiness + 1);
            feedCount += 1;
            updateDisplay();
            showNotification("Ymm! ");
            updatePetMessage("I'm full now!");

            document.querySelector('.pet').style.transform = "scale(1.2)";
            setTimeout(() => {
                document.querySelector('.pet').style.transform = "scale(1)";
            }, 300);
      
            if (feedCount >=maxFeed) {
                showNotification("You don't have enough food!")
                updatePetMessage('No more food for now!')
                return;
            }

        });



        playBtn.addEventListener('click', () => {
            petStats.happiness = clampValue(petStats.happiness + 15);
            petStats.energy = clampValue(petStats.energy - 10);
            petStats.hunger = clampValue(petStats.hunger - 5);
            updateDisplay();
            showNotification("Hooray! ");
            updatePetMessage("Let's play together!");
            
            document.querySelector('.pet').style.animation = "none";
            setTimeout(() => {
                document.querySelector('.pet').style.animation = "float 3s infinite ease-in-out";
            }, 10);
        });

        cleanBtn.addEventListener('click', () => {
            showNotification("Nice! ");
            updatePetMessage("I'm clean!");            
            
            document.querySelector('.pet').style.transform = "rotate(10deg)";
            setTimeout(() => {
                document.querySelector('.pet').style.transform = "rotate(-10deg)";
            }, 150);
            setTimeout(() => {
                document.querySelector('.pet').style.transform = "rotate(0deg)";
            }, 300);
        });

        
        restBtn.addEventListener('click', () => {
            if (Cooldown) {
                showNotification("Resting... Please wait!");
                return;
            }

            Cooldown = true;
            restBtn.disabled = true;
            restBtn.classList.add('disabled');
            showNotification("Resting...");
            
            playBtn.disabled = true;
            playBtn.classList.add('disabled');
            cleanBtn.disabled = true;
            cleanBtn.classList.add('disabled');
            feedBtn.disabled = true;
            feedBtn.classList.add('disabled');

            petStats.energy = clampValue(petStats.energy + 20);
            petStats.hunger = clampValue(petStats.hunger - 5);
            updateDisplay();
            updatePetMessage("Zzz...");

            document.querySelector('.pet').textContent = "üò¥";
            setTimeout(() => {
                document.querySelector(".pet").textContent = currentPet;
}, CooldownTime);


            setTimeout(() => {
                Cooldown = false;
                restBtn.disabled = false;
                restBtn.classList.remove('disabled');
                playBtn.disabled = false;
                playBtn.classList.remove('disabled');
                cleanBtn.disabled = false;
                cleanBtn.classList.remove('disabled');
                foodNumber();

                showNotification("You can rest again!");
            }, CooldownTime);
        });


        // Ê®°ÊãüÊØèÊó•ÁôªÂΩï
        function dailyLogin() {
            petStats.loginStreak++;
            petStats.happiness = clampValue(petStats.happiness + 5);
            showNotification("Login bonus: +5 happiness");
            updateDisplay();
        }

        function decreaseStatsOverTime() {
            setInterval(() => {
                petStats.hunger = clampValue(petStats.hunger - 1);
                petStats.happiness = clampValue(petStats.happiness - 0.5);
                petStats.energy = clampValue(petStats.energy - 0.7);
                updateDisplay();
            }, 10000); 
        }

        function tiredness() {
            if (petStats.energy < 50) {
                playBtn.disabled = true;
                playBtn.classList.add('disabled'); 
            } 
            else if (petStats.energy >= 50 & Cooldown == false) {
                playBtn.disabled = false;
                playBtn.classList.remove('disabled');
            }
        }

        function hunger() {
            if (petStats.hunger < 20) {
                petStats.happiness = clampValue(petStats.happiness - 5);
                petStats.energy = clampValue(petStats.energy - 3);
                showNotification("Your pet is very hungry!");
                updateDisplay();
            }
        }

        function foodNumber() {
            if (feedCount >= maxFeed) {
                feedBtn.disabled = true;
                feedBtn.classList.add('disabled'); 
            } 
            else if (feedCount < maxFeed & Cooldown == false ) {
                feedBtn.disabled = false;
                feedBtn.classList.remove('disabled');   
            }
        }
                

        function updateDisplay() {
            hungerBar.style.width = petStats.hunger + '%';
            happinessBar.style.width = petStats.happiness + '%';
            energyBar.style.width = petStats.energy + '%';
            loginStreak.textContent = petStats.loginStreak;
            updateMood();
            tiredness();
            foodNumber(); 
        }


        

        
        
        updateDisplay();
        decreaseStatsOverTime();

        // Ê®°ÊãüÊØèÊó•ÁôªÂΩïÔºàÈ°µÈù¢Âä†ËΩΩÊó∂Ôºâ
        setTimeout(dailyLogin, 1000);


        
    </script>
</body>
</html>